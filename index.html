<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Baterias 1 – Delivery de Baterias</title>
    <link rel="stylesheet" href="style.css" />
  <style>.btn-painel{position:fixed;left:16px;bottom:16px;backgr...z-index:9999} .btn-painel:hover{filter:brightness(1.05)}</style>
  <link rel="stylesheet" href="assets/css/enhancements.css" />

  <style>
    /* Botão de localização discreto no bloco de cidades */
    .btn-location{
      display:inline-flex;align-items:center;gap:4px;height:32px;padding:4px 8px;
      border:1px solid #d9d9d9;background:#f6f7f8;border-radius:6px;cursor:pointer;
      font-size:12px;line-height:1;transition:background .15s ease,border-color .15s ease,transform .05s ease
    }
    .btn-location:hover{background:#f0f2f4;border-color:#cfcfcf}
    .btn-location img{width:14px;height:14px;display:block}
    .select-btn-wrapper{display:flex;justify-content:center}
  </style>
</head>
  <body>
    <!-- Header com logotipo e botão de ação principal -->
    <header class="header">
      <div class="container header-content">
        <div class="logo">
          <img src="assets/img/logo-baterias1.svg" alt="Baterias 1" />
          <span>Baterias 1</span>
        </div>
        <nav class="nav">
          <a href="#como-funciona">Como funciona</a>
          <a href="#vantagens">Vantagens</a>
          <a href="#contato">Contato</a>
        </nav>
        <button class="btn btn-primary" id="openSelection" aria-label="Peça agora">Peça agora</button>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-copy">
          <h1>A bateria certa entregue e instalada onde você estiver</h1>
          <p>Descubra a bateria ideal para seu carro e receba com instalação rápida na sua cidade.</p>
          <button class="btn btn-primary" id="stepsOrder" aria-label="Peça agora">Peça agora</button>
        </div>
        <div class="hero-art">
          <img src="assets/img/hero-battery.svg" alt="Bateria automotiva" />
        </div>
      </div>
    </section>

    <!-- Modal de seleção de cidade e veículo -->
    <div id="selectionModal" class="modal hidden">
      <div class="modal-content">
        <!-- Botão para fechar o modal com rótulo acessível -->
        <button class="modal-close" id="closeSelection" aria-label="Fechar seleção">×</button>
        <h3>Informe sua cidade</h3>
        <div class="field-group">
          <input
            type="text"
            id="cityInput"
            placeholder="Buscar cidades"
            list="cityList"
          />
          <datalist id="cityList"></datalist>
        
        <button type="button" class="btn-location" id="useLocation" title="Usar minha localização">
          <img src="assets/icons/location.png" alt="" aria-hidden="true" />
          <span>Localização</span>
        </button>
</div>
        
        <h3>Informe seu veículo</h3>
        <div class="field-group">
          <input
            type="text"
            id="vehicleInput"
            placeholder="Marca, modelo, ano e versão"
            list="vehicleList"
            autocomplete="off"
          />
          <datalist id="vehicleList"></datalist>
        </div>
        <!-- Botão 'Selecionar' centralizado -->
        
    <div class="select-btn-wrapper">
      <button class="btn btn-primary" id="selectVehicle" aria-label="Selecionar veículo" style="display:block;margin:14px auto 0;">Selecionar</button>
    </div>

      </div>
    </div>

    <!-- Seção de cartão de bateria e formulário de pedido (quando houver resultado) -->
    <section id="resultSection" class="hidden">
      <div class="container">
        <div class="battery-card">
          <div class="battery-info">
            <h2 id="batteryModel">Moura M60SD</h2>
            <p id="batterySpecs">60Ah • 12V • 540 CCA</p>
            <ul class="battery-details">
              <li>Garantia: <strong id="batteryWarranty">18 meses</strong></li>
              <li>Dimensões: <strong id="batteryDims">242 x 175 x 190 mm</strong></li>
              <li>Peso: <strong id="batteryWeight">15,2 kg</strong></li>
            </ul>
          </div>
          <div class="battery-price">
            <div class="price-line">
              <span>À vista</span>
              <strong id="priceCash">R$ 499,00</strong>
            </div>
            <div class="price-line">
              <span>Em 10x</span>
              <strong id="priceInstallments">R$ 55,90</strong>
            </div>
          </div>
        </div>

        <!-- Formulário resumido de pedido (somente o necessário) -->
        <form id="orderForm" class="order-form">
          <div class="grid-2">
            <div class="field">
              <label for="customerName">Seu nome</label>
              <input id="customerName" type="text" placeholder="Nome completo" autocomplete="name" />
            </div>
            <div class="field">
              <label for="customerPhone">WhatsApp</label>
              <input id="customerPhone" type="tel" placeholder="(83) 9 0000-0000" inputmode="tel" />
            </div>
          </div>

          <div class="grid-2">
            <div class="field">
              <label for="address">Endereço</label>
              <input id="address" type="text" placeholder="Rua, nº, bairro" autocomplete="street-address" />
            </div>
            <div class="field">
              <label for="city">Cidade</label>
              <input id="city" type="text" placeholder="Cidade/UF" autocomplete="address-level2" />
            </div>
          </div>

          <div class="grid-2">
            <div class="field">
              <label for="vehicleResume">Veículo</label>
              <input id="vehicleResume" type="text" placeholder="Ex.: Onix 1.4 2019 AT" />
            </div>
            <div class="field">
              <label for="plate">Placa (opcional)</label>
              <input id="plate" type="text" placeholder="ABC1D23" />
            </div>
          </div>

          <div class="grid-3">
            <div class="field">
              <label>Entrega</label>
              <div class="radios">
                <label><input type="radio" name="deliveryTime" value="40min" checked /> 40 min</label>
                <label><input type="radio" name="deliveryTime" value="2h" /> 2 horas</label>
                <label><input type="radio" name="deliveryTime" value="agendar" /> Agendar</label>
              </div>
              <div id="scheduleFields" class="hidden">
                <input id="scheduleDate" type="date" />
                <input id="scheduleTime" type="time" />
              </div>
            </div>

            <div class="field">
              <label>Pagamento</label>
              <div class="radios">
                <label><input type="radio" name="payment" value="debito" checked /> Débito</label>
                <label><input type="radio" name="payment" value="credito" /> Crédito</label>
                <label><input type="radio" name="payment" value="pix" /> Pix</label>
                <label><input type="radio" name="payment" value="dinheiro" /> Dinheiro</label>
              </div>
              <div id="installmentsField" class="hidden">
                <select id="installments">
                  <option>1x</option><option>2x</option><option>3x</option><option>4x</option><option>5x</option>
                  <option>6x</option><option>7x</option><option>8x</option><option>9x</option><option selected>10x</option>
                </select>
                <div id="installmentDynamicLine" class="installment-line"></div>
              </div>
            </div>

            <div class="field">
              <label for="notes">Observações</label>
              <textarea id="notes" rows="3" placeholder="Ex.: Estacionamento no subsolo, acesso pela rua tal..."></textarea>
            </div>
          </div>

          <div class="actions">
            <button type="submit" class="btn btn-primary" id="submitOrder">Solicitar entrega</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Como funciona -->
    <section id="como-funciona" class="how-it-works">
      <div class="container">
        <h2>Como funciona</h2>
        <div class="steps">
          <div class="step">
            <span class="num">1</span>
            <h3>Busque sua cidade e veículo</h3>
            <p>Informe onde você está e o modelo do seu carro. Nós encontramos a bateria certa.</p>
          </div>
          <div class="step">
            <span class="num">2</span>
            <h3>Veja o preço e a garantia</h3>
            <p>Transparência total: mostramos marca, modelo, especificações e condições.</p>
          </div>
          <div class="step">
            <span class="num">3</span>
            <h3>Receba com instalação</h3>
            <p>Motoboy ou técnico vai até você, instala e testa a bateria no local.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Vantagens -->
    <section id="vantagens" class="benefits">
      <div class="container">
        <h2>Por que escolher a Baterias 1</h2>
        <ul class="benefits-list">
          <li>Atendimento rápido em Campina Grande e João Pessoa</li>
          <li>Parceria com as melhores marcas</li>
          <li>Instalação e teste inclusos</li>
          <li>Garantia com nota fiscal</li>
        </ul>
      </div>
    </section>

    <!-- Rodapé -->
    <footer id="contato" class="footer">
      <div class="container footer-grid">
        <div>
          <h3>Baterias 1</h3>
          <p>Delivery de baterias com instalação no local.</p>
        </div>
        <div>
          <h4>Contato</h4>
          <p>WhatsApp: (83) 9 9999-9999</p>
          <p>Campina Grande • João Pessoa</p>
        </div>
        <div>
          <h4>Atendimento</h4>
          <p>Seg a Sáb, 8h às 20h</p>
        </div>
      </div>
      <div class="container footer-bottom">
        <small>© 2025 Baterias 1. Todos os direitos reservados.</small>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/app.js"></script>
    <script>
      // Abertura/fechamento do modal
      const selectionModal = document.getElementById('selectionModal');
      const openSelection = document.getElementById('openSelection');
      const stepsOrder = document.getElementById('stepsOrder');
      const closeSelection = document.getElementById('closeSelection');
      const useLocationBtn = document.getElementById('useLocation');
      const selectVehicleBtn = document.getElementById('selectVehicle');

      function openModal(){ selectionModal.classList.remove('hidden'); }
      function closeModal(){ selectionModal.classList.add('hidden'); }

      openSelection?.addEventListener('click', openModal);
      stepsOrder?.addEventListener('click', openModal);
      closeSelection?.addEventListener('click', closeModal);

      // Localização (geolocalização do navegador)
      useLocationBtn?.addEventListener('click', ()=>{
        if(!navigator.geolocation){ alert('Geolocalização não suportada.'); return; }
        navigator.geolocation.getCurrentPosition(
          (pos)=>{
            console.log('Localização obtida:', pos.coords.latitude, pos.coords.longitude);
            // aqui você pode preencher o cityInput via reverse geocode (se tiver API)
          },
          (err)=>{ alert('Não foi possível obter sua localização.'); }
        );
      });

      // Selecionar veículo
      selectVehicleBtn?.addEventListener('click', ()=>{
        // Aqui você pode validar a cidade/veículo e exibir a seção de resultado
        document.getElementById('resultSection')?.classList.remove('hidden');
        closeModal();
      });

      // Pagamento: exibe parcelas quando crédito
      const paymentRadios = document.querySelectorAll('input[name="payment"]');
      const installmentsField = document.getElementById('installmentsField');
      paymentRadios.forEach(r=>{
        r.addEventListener('change', ()=>{
          installmentsField.classList.toggle('hidden', r.value!=='credito' || !r.checked);
        });
      });
    </script>

    <!-- Link fixo para login do painel -->
    <a
      href="https://wa.me/5511970901461"
      class="whatsapp-link"
      target="_blank"
      rel="noopener"
      aria-label="Contato via WhatsApp"
    >
      <img src="whatsapp.svg" alt="WhatsApp" />
    </a>
  
<a class="btn-painel" href="./login.html" aria-label="Abrir painel (login)">Painel</a>
<script src="assets/js/autocomplete-motor-versao.js"></script>
  <script src="assets/js/enhancements.js"></script>
</body>
</html>
